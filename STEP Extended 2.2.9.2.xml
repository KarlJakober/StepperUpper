<?xml version="1.0" encoding="utf-8"?>
<Modpack Name="STEP Extended"
         Requires="STEP Core 2.2.9.2, File Version 1.0.1.0"
         PackVersion="2.2.9.2"
         FileVersion="1.0.0.0"
         MinimumToolVersion="0.9.1.0">

	<Files>
		<Group Name="2.D. Fixes">
			<File Name="Complete Crafting Overhaul Remade 1.7"
			      LengthInBytes="4231638"
			      CanonicalFileName="Complete Crafting Overhaul Remade-49791-1-7.7z"
			      MD5Checksum="0fb2cc91d22fcf07fba70c385270793b"
			      DownloadTags="nexus|skyrim|49791|1000184408" />

			<File Name="CCO Compatibility Patch for WAF True Weapons 1.6"
			      LengthInBytes="10616"
			      CanonicalFileName="CCO - WAF True Weapons Patch-49791-1-6.7z"
			      MD5Checksum="4fa004d19322ffb7a5f0795e2e5c415d"
			      DownloadTags="nexus|skyrim|49791|1000151469" />

			<File Name="Realistic Ragdolls and Force - Realistic Force 1.9"
			      LengthInBytes="322469"
			      CanonicalFileName="Realistic Force-601-1-9.rar"
			      MD5Checksum="ac15e993f29759455e42f67813eed19a"
			      DownloadTags="nexus|skyrim|601|1000007570" />

			<File Name="XP32 Maximum Skeleton 1.96"
			      LengthInBytes="1055566"
			      CanonicalFileName="XP32 Maximum Skeleton-26800-1-96.7z"
			      MD5Checksum="0f1927c9f0a09a6b75f4e4ce07220e8c"
			      DownloadTags="nexus|skyrim|26800|1000200791" />
		</Group>

		<Group Name="2.E. Interface">
		</Group>

		<!-- All of these are in Core. -->
		<!-- <Group Name="2.F. Conflicting Graphics" /> -->

		<Group Name="2.G. Landscape &amp; Environment">
		</Group>

		<Group Name="2.H. Characters &amp; Creatures">
		</Group>

		<Group Name="2.I. Clothing &amp; Equipment">
		</Group>

		<Group Name="2.J. Animations &amp; Effects">
		</Group>

		<Group Name="2.K. Clutter &amp; Miscellaneous">
		</Group>

		<Group Name="2.L. Sound">
		</Group>

		<Group Name="2.M. Gameplay">
		</Group>

		<!-- Some of these are from Core, but needed again for Extended. -->
		<Group Name="2.N. Patches">
			<!-- uncomment later, when they don't make it take longer. -->
			<!--
			<File Name="STEP Compilation - High 2.2.9.2l"
			      LengthInBytes="905471272"
			      CanonicalFileName="STEP Compilation Installer - High Res - 2292l-11-2-2-9-2l.7z"
			      Option="STEP Compilation 2.2.9.2l"
			      MD5Checksum="5b3eb1c2bf754c25b5278d4ab2d21aa6"
			      DownloadTags="nexus|skyrim|11|1000219783" />

			<File Name="STEP Compilation - Normal 2.2.9.2l"
			      LengthInBytes="582007771"
			      CanonicalFileName="STEP Compilation Installer - Normal Res - 2292l-11-2-2-9-2l.7z"
			      Option="STEP Compilation 2.2.9.2l"
			      MD5Checksum="97d603bb582ad88623dd4ad1010724cb"
			      DownloadTags="nexus|skyrim|11|1000219776" />

			<File Name="LeanWolf's Better-Shaped Weapons 2.0.07"
			      LengthInBytes="20593080"
			      CanonicalFileName="LeanWolfs Better-Shaped Weapons v2.0.07-39870-2-0-07.7z"
			      MD5Checksum="6d2680d20e08ddf65f445a8b18ffd4ae"
			      DownloadTags="nexus|skyrim|39870|1000223517" />
			-->
		</Group>
	</Files>

	<Tasks>
		<Group Name="2.D. Fixes">
			<ExtractArchive ArchiveFile="Complete Crafting Overhaul Remade 1.7" SimpleMO="Root" />
			<ExtractArchive ArchiveFile="CCO Compatibility Patch for WAF True Weapons 1.6">
				<MapFolder To="ModOrganizer/mods/Complete Crafting Overhaul Remade 1.7" />
			</ExtractArchive>

			<ExtractArchive ArchiveFile="Realistic Ragdolls and Force - Realistic Force 1.9">
				<MapFolder To="ModOrganizer/mods/Realistic Ragdolls and Force - Realistic Force 1.9" />
				<Hide Folder="ModOrganizer/mods/Realistic Ragdolls and Force - Realistic Force 1.9/fomod" />
				<Hide File="ModOrganizer/mods/Realistic Ragdolls and Force - Realistic Force 1.9/dD - Realistic Ragdoll Force - Realistic.esp" />
			</ExtractArchive>

			<ExtractArchive ArchiveFile="XP32 Maximum Skeleton 1.96">
				<MapFolder From="04 1stpersonSkeleton Default BBP and belly bone" To="ModOrganizer/mods/XP32 Maximum Skeleton 1.96" />
				<MapFolder From="02 Back Hand Dagger equip unquip animations" To="ModOrganizer/mods/XP32 Maximum Skeleton 1.96" />
				<MapFolder From="00 Skeleton Rig" To="ModOrganizer/mods/XP32 Maximum Skeleton 1.96" />
				<MapFolder From="12 Back Hip Daggers" To="ModOrganizer/mods/XP32 Maximum Skeleton 1.96" />
			</ExtractArchive>
		</Group>

		<Group Name="2.E. Interface">
		</Group>

		<!-- All of these are in Core. -->
		<!-- <Group Name="2.F. Conflicting Graphics" /> -->

		<Group Name="2.G. Landscape &amp; Environment">
		</Group>

		<Group Name="2.H. Characters &amp; Creatures">
		</Group>

		<Group Name="2.I. Clothing &amp; Equipment">
		</Group>

		<Group Name="2.J. Animations &amp; Effects">
		</Group>

		<Group Name="2.K. Clutter &amp; Miscellaneous">
		</Group>

		<Group Name="2.L. Sound">
		</Group>

		<Group Name="2.M. Gameplay">
		</Group>

		<Group Name="2.N. Patches">
		</Group>

		<Group Name="X. Final Cleanups">
			<TweakINI File="ModOrganizer/ModOrganizer.ini">
				<Set Section="General" Property="selected_profile" Value="STEP Extended 2.2.9.2" />
				<Set Section="General" Property="gamePath" Value="{SteamInstallFolderEscapeBackslashes}\\steamapps\\common\\Skyrim" />
				<Set Section="General" Property="selected_executable" Value="1" />

				<Set Section="customExecutables" Property="1\title" Value="SKSE" />
				<Set Section="customExecutables" Property="1\custom" Value="false" />
				<Set Section="customExecutables" Property="1\toolbar" Value="false" />
				<Set Section="customExecutables" Property="1\ownicon" Value="false" />
				<Set Section="customExecutables" Property="2\title" Value="Skyrim" />
				<Set Section="customExecutables" Property="2\custom" Value="false" />
				<Set Section="customExecutables" Property="2\toolbar" Value="false" />
				<Set Section="customExecutables" Property="2\ownicon" Value="false" />
				<Set Section="customExecutables" Property="3\title" Value="Skyrim Launcher" />
				<Set Section="customExecutables" Property="3\custom" Value="false" />
				<Set Section="customExecutables" Property="3\toolbar" Value="false" />
				<Set Section="customExecutables" Property="3\ownicon" Value="false" />
				<Set Section="customExecutables" Property="4\title" Value="LOOT" />
				<Set Section="customExecutables" Property="4\custom" Value="true" />
				<Set Section="customExecutables" Property="4\toolbar" Value="false" />
				<Set Section="customExecutables" Property="4\ownicon" Value="true" />
				<Set Section="customExecutables" Property="4\binary" Value="{DumpFolderForwardSlashes}/LOOT 0.9.2/LOOT.exe" />
				<Set Section="customExecutables" Property="4\arguments" Value="" />
				<Set Section="customExecutables" Property="4\workingDirectory" Value="{DumpFolderForwardSlashes}/LOOT 0.9.2/" />
				<Set Section="customExecutables" Property="4\closeOnStart" Value="false" />
				<Set Section="customExecutables" Property="4\steamAppID" Value="" />
				<Set Section="customExecutables" Property="5\title" Value="TES5Edit" />
				<Set Section="customExecutables" Property="5\custom" Value="true" />
				<Set Section="customExecutables" Property="5\toolbar" Value="false" />
				<Set Section="customExecutables" Property="5\ownicon" Value="true" />
				<Set Section="customExecutables" Property="5\binary" Value="{DumpFolderForwardSlashes}/FO4Edit 3.1.3/TES5Edit.exe" />
				<Set Section="customExecutables" Property="5\arguments" Value="" />
				<Set Section="customExecutables" Property="5\workingDirectory" Value="{DumpFolderForwardSlashes}/FO4Edit 3.1.3/" />
				<Set Section="customExecutables" Property="5\closeOnStart" Value="false" />
				<Set Section="customExecutables" Property="5\steamAppID" Value="" />
				<Set Section="customExecutables" Property="6\title" Value="Wrye Bash" />
				<Set Section="customExecutables" Property="6\custom" Value="true" />
				<Set Section="customExecutables" Property="6\toolbar" Value="false" />
				<Set Section="customExecutables" Property="6\ownicon" Value="true" />
				<Set Section="customExecutables" Property="6\binary" Value="{DumpFolderForwardSlashes}/Wrye Bash 306/Wrye Bash.exe" />
				<Set Section="customExecutables" Property="6\arguments" Value="" />
				<Set Section="customExecutables" Property="6\workingDirectory" Value="{DumpFolderForwardSlashes}/Wrye Bash 306/" />
				<Set Section="customExecutables" Property="6\closeOnStart" Value="false" />
				<Set Section="customExecutables" Property="6\steamAppID" Value="" />
				<Set Section="customExecutables" Property="7\title" Value="DynDOLOD" />
				<Set Section="customExecutables" Property="7\custom" Value="true" />
				<Set Section="customExecutables" Property="7\toolbar" Value="false" />
				<Set Section="customExecutables" Property="7\ownicon" Value="true" />
				<Set Section="customExecutables" Property="7\binary" Value="{DumpFolderForwardSlashes}/DynDOLOD 2.20/DynDOLOD.exe" />
				<Set Section="customExecutables" Property="7\arguments" Value="" />
				<Set Section="customExecutables" Property="7\workingDirectory" Value="{DumpFolderForwardSlashes}/DynDOLOD 2.20/" />
				<Set Section="customExecutables" Property="7\closeOnStart" Value="false" />
				<Set Section="customExecutables" Property="7\steamAppID" Value="" />
				<Set Section="customExecutables" Property="8\title" Value="DynDOLOD TexGen" />
				<Set Section="customExecutables" Property="8\custom" Value="true" />
				<Set Section="customExecutables" Property="8\toolbar" Value="false" />
				<Set Section="customExecutables" Property="8\ownicon" Value="true" />
				<Set Section="customExecutables" Property="8\binary" Value="{DumpFolderForwardSlashes}/DynDOLOD 2.20/TexGen.exe" />
				<Set Section="customExecutables" Property="8\arguments" Value="" />
				<Set Section="customExecutables" Property="8\workingDirectory" Value="{DumpFolderForwardSlashes}/DynDOLOD 2.20/" />
				<Set Section="customExecutables" Property="8\closeOnStart" Value="false" />
				<Set Section="customExecutables" Property="8\steamAppID" Value="" />
				<Set Section="customExecutables" Property="size" Value="8" />

				<!-- TODO: SkyProc patchers and other mod tools. -->
			</TweakINI>

			<!-- Get ModOrganizer to use local save games instead of reusing the "My Games" that a
			     user might have populated with vanilla save games.  We don't want to touch those.
			     You'd think this would be a TweakINI for the initweaks.ini file, but nope.  The
			     only thing ModOrganizer checks for in 1.3.11 is this folder, and ignores that INI
			     file entirely, for some reason. -->
			<CreateEmptyFolder Path="ModOrganizer/profiles/STEP Extended 2.2.9.2/saves" />

			<Embedded File="ModOrganizer/profiles/STEP Extended 2.2.9.2/modlist.txt" Encoding="UTF8NoBOM">
				<!-- TODO -->
			</Embedded>

			<Embedded File="ModOrganizer/profiles/STEP Extended 2.2.9.2/loadorder.txt" Encoding="UTF8NoBOM">
				<!-- TODO -->
			</Embedded>

			<Embedded File="ModOrganizer/profiles/STEP Extended 2.2.9.2/archives.txt" Encoding="UTF8NoBOM">
				<!-- TODO -->
			</Embedded>

			<Embedded File="RunSkyrim.bat" Encoding="UTF8NoBOM">
				<Line>@ECHO OFF</Line>
				<Line>CD %~dp0ModOrganizer</Line>
				<Line>ModOrganizer.exe "{SteamInstallFolder}\steamapps\common\Skyrim\skse_loader.exe"</Line>
			</Embedded>

			<Embedded File="ModOrganizer/profiles/STEP Extended 2.2.9.2/plugins.txt" Encoding="UTF8NoBOM">
				<!-- TODO -->
			</Embedded>

			<Embedded File="ModOrganizer/mods/Bashed Patch (Extended)/Bashed Patch, 0.esp">
				<!-- TODO -->
			</Embedded>
		</Group>
	</Tasks>
</Modpack>
